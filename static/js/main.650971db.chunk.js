(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,a){e.exports=a(402)},402:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),i=a(101),u=a.n(i),o=a(153),m=a(76),s=a(154),d=a.n(s),f=a(75),b=a(73),p=a(67),h=a.n(p),v=a(166),E=a(53),O=a(155),y=a.n(O),g=a(157),j=a.n(g),x=a(158),k=a.n(x),S=function(e){var t=e.stepLabels,a=e.currentStep;return r.a.createElement(y.a,null,t.map(function(e,t){return r.a.createElement(j.a,{key:e,completed:t+1<a,active:t+1===a},r.a.createElement(k.a,null,e))}))},N={currentStep:1,allStepsData:{}},C=function(e,t){var a=t.type,n=t.payload;switch(a){case"next":var r=e.currentStep,l=e.allStepsData,c=l[r]||{},i={};if(Object(E.a)(c,n))i=l;else for(var u=1;u<r;u++)i[u]=l[u];return i[r]=n,{allStepsData:i,currentStep:r+1};case"back":return Object(v.a)({},e,{currentStep:e.currentStep-1});default:return e}},w=function(e){var t=e.children,a=e.fieldData,l=e.showFlow,c=Object(n.useReducer)(C,N),i=Object(m.a)(c,2),u=i[0],o=i[1],s=Object(n.useCallback)(function(e){return o({type:"next",payload:e})}),d=Object(n.useCallback)(function(){return o({type:"back"})}),f=Object(n.useCallback)(function(){return console.log(u)}),b=Object(n.useMemo)(function(){return t.map(function(e){return e.props.label})}),p=u.currentStep,h=u.allStepsData,v=t[p-1];return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(S,{currentStep:p,stepLabels:b}),Object(n.cloneElement)(v,{key:v.props.label,onNext:s,onBack:d,onSubmit:f,fieldData:a,allStepsData:h,currentStep:p}))},B=a(407),D=a(405),q=a(406),P=a(25),A=a(33),T=a.n(A),R=a(45),F=a.n(R),M=a(23),W=a.n(M),V=Object(b.a)({form:{width:"100%",height:"auto",display:"flex",flexDirection:"column"},fieldsArea:{display:"flex",flexDirection:"column"},field:{marginBottom:"20px!important"},compondField:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",marginBottom:20},helperText:{textAlign:"center!important"},addButton:{margin:"20px 0"},buttonsArea:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:30},gridContainer:{marginTop:"20px!important"}}),I=function(e){var t=e.onNext,a=e.fieldData,n=e.currentStep,l=e.allStepsData,c=V(),i=Object(B.a)("",[n,"meal"])(l),u=Object(B.a)(1,[n,"numberOfPeople"])(l),o=Q(a);return r.a.createElement(P.c,{initialValues:{meal:i,numberOfPeople:u},onSubmit:t,validate:J},function(e){var t=e.values,a=e.errors,n=e.handleChange;return r.a.createElement(P.b,{className:c.form},r.a.createElement("div",{className:c.fieldsArea},r.a.createElement(T.a,{className:c.field,id:"meal",name:"meal",label:"Meal",select:!0,value:t.meal,onChange:n,fullWidth:!0,error:!!a.meal,helperText:a.meal||" "},o.map(function(e){return r.a.createElement(F.a,{key:e,value:e},e)})),r.a.createElement(T.a,{className:c.field,id:"numberOfPeople",name:"numberOfPeople",label:"Number of people",type:"number",value:t.numberOfPeople,onChange:n,fullWidth:!0,error:!!a.numberOfPeople,helperText:a.numberOfPeople||" "})),r.a.createElement("div",{className:c.buttonsArea},r.a.createElement("div",null),r.a.createElement(W.a,{name:"next",type:"submit",variant:"contained",color:"primary"},"Next")))})},Q=function(e){return e.reduce(function(e,t){return Object(D.a)(e,t.availableMeals)},[])},J=function(e){var t={};return(e.numberOfPeople<1||e.numberOfPeople>10)&&(t.numberOfPeople="Value between 1 ~ 10"),Object(q.a)(e.numberOfPeople)&&(t.numberOfPeople="Required"),Object(q.a)(e.meal)&&(t.meal="Required"),t},L=a(401),z=a(403),H=a(404),G=function(e){var t=e.onNext,a=e.onBack,n=e.fieldData,l=e.currentStep,c=e.allStepsData,i=V(),u=Object(B.a)("",[l-1,"meal"])(c),o=Object(B.a)("",[l,"restaurant"])(c),m=K(u)(n);return r.a.createElement(P.c,{initialValues:{restaurant:o},onSubmit:t,validate:U},function(e){var t=e.values,n=e.errors,l=e.handleChange;return r.a.createElement(P.b,{className:i.form},r.a.createElement("div",{className:i.fieldsArea},r.a.createElement(T.a,{className:i.field,id:"restaurant",name:"restaurant",label:"Restaurant",select:!0,value:t.restaurant,onChange:l,fullWidth:!0,error:!!n.restaurant,helperText:n.restaurant||" "},m.map(function(e){return r.a.createElement(F.a,{key:e,value:e},e)}))),r.a.createElement("div",{className:i.buttonsArea},r.a.createElement(W.a,{name:"back",variant:"contained",onClick:a},"Back"),r.a.createElement(W.a,{name:"next",type:"submit",variant:"contained",color:"primary"},"Next")))})},K=function(e){return function(t){return t.filter(Object(L.a)(Object(z.a)(e),Object(H.a)("availableMeals"))).reduce(function(e,t){return Object(D.a)(e,[t.restaurant])},[])}},U=function(e){var t={};return Object(q.a)(e.restaurant)&&(t.restaurant="Required"),t},X=a(164),Y=a.n(X),Z=a(162),$=a.n(Z),_=a(165),ee=a.n(_),te=a(163),ae=a.n(te),ne=a(100),re=a.n(ne),le=function(e){var t=e.onNext,a=e.onBack,n=e.fieldData,l=e.currentStep,c=e.allStepsData,i=V(),u=Object(B.a)(1,[1,"numberOfPeople"])(c),o=Object(B.a)("",[l-1,"restaurant"])(c),m=Object(B.a)([{name:"",quantity:1}],[l,"dishes"])(c),s=ce(o)(n);return r.a.createElement(P.c,{initialValues:{dishes:m},onSubmit:t,validate:ie(u)},function(e){var t=e.values,n=e.errors,l=e.handleChange;return r.a.createElement(P.b,null,r.a.createElement(P.a,{className:i.fieldsArea,name:"dishes",validateOnChange:!0},function(e){var a=e.push,c=e.remove;return r.a.createElement("div",null,t.dishes.map(function(e,t){return r.a.createElement("div",{className:i.compondField,key:t},r.a.createElement(T.a,{id:"dishes[".concat(t,"].name"),name:"dishes[".concat(t,"].name"),label:"Dish",select:!0,fullWidth:!0,value:e.name,onChange:l,error:!!Object(B.a)(!1,["dishes[".concat(t,"].name")])(n),helperText:Object(B.a)(" ",["dishes[".concat(t,"].name")])(n)},s.map(function(e){return r.a.createElement(F.a,{key:e,value:e},e)})),r.a.createElement(T.a,{id:"dishes[".concat(t,"].quantity"),name:"dishes[".concat(t,"].quantity"),label:"Quantity",type:"number",fullWidth:!0,value:e.quantity,onChange:l,error:!!Object(B.a)(!1,["dishes[".concat(t,"].quantity")])(n),helperText:Object(B.a)(" ",["dishes[".concat(t,"].quantity")])(n)}),r.a.createElement($.a,{name:"remove-dish",onClick:function(){return c(t)}},r.a.createElement(ae.a,{fontSize:"small"})))}),r.a.createElement(re.a,{className:i.helperText,variant:"filled",error:!0},Object(B.a)("",["countAllQuantity"])(n)),r.a.createElement(Y.a,{className:i.addButton,name:"add-dish",color:"primary",onClick:function(){return a({name:"",quantity:1})}},r.a.createElement(ee.a,null)))}),r.a.createElement("div",{className:i.buttonsArea},r.a.createElement(W.a,{name:"back",variant:"contained",onClick:a},"Back"),r.a.createElement(W.a,{name:"next",type:"submit",variant:"contained",color:"primary"},"Next")))})},ce=function(e){return function(t){return t.filter(function(t){return t.restaurant===e}).reduce(function(e,t){return Object(D.a)(e,[t.name])},[])}},ie=function(e){return function(t){var a={};t.dishes.forEach(function(e,n){(e.quantity<1||e.quantity>10)&&(a["dishes[".concat(n,"].quantity")]="Value between 1 ~ 10"),Object(q.a)(e.quantity)&&(a["dishes[".concat(n,"].quantity")]="Required"),t.dishes.filter(function(t){return t.name===e.name}).length>1&&(a["dishes[".concat(n,"].name")]="Cannot same dishes"),Object(q.a)(e.name)&&(a["dishes[".concat(n,"].name")]="Required")});var n=t.dishes.reduce(function(e,t){return e+t.quantity},0);return e>n&&(a.countAllQuantity="The total number of dishes should be greater or equal to the number of person"),a}},ue=a(28),oe=a.n(ue),me=a(26),se=a.n(me),de=function(e){var t=e.onBack,a=e.onSubmit,n=e.allStepsData,l=V(),c=Object(B.a)("",[1,"meal"])(n),i=Object(B.a)("",[1,"numberOfPeople"])(n),u=Object(B.a)("",[2,"restaurant"])(n),o=Object(B.a)([],[3,"dishes"])(n);return r.a.createElement("div",null,r.a.createElement(oe.a,{className:l.gridContainer,spacing:24,container:!0},r.a.createElement(oe.a,{item:!0,xs:5},r.a.createElement(se.a,{variant:"h5",align:"right",gutterBottom:!0},"Meal")),r.a.createElement(oe.a,{item:!0,xs:7},r.a.createElement(se.a,{variant:"subtitle1",gutterBottom:!0},c)),r.a.createElement(oe.a,{item:!0,xs:5},r.a.createElement(se.a,{variant:"h5",align:"right",gutterBottom:!0},"Number of people")),r.a.createElement(oe.a,{item:!0,xs:7},r.a.createElement(se.a,{variant:"subtitle1",gutterBottom:!0},i)),r.a.createElement(oe.a,{item:!0,xs:5},r.a.createElement(se.a,{variant:"h5",align:"right",gutterBottom:!0},"Restaurant")),r.a.createElement(oe.a,{item:!0,xs:7},r.a.createElement(se.a,{variant:"subtitle1",gutterBottom:!0},u)),r.a.createElement(oe.a,{item:!0,xs:5},r.a.createElement(se.a,{variant:"h5",align:"right",gutterBottom:!0},"Dishes")),r.a.createElement(oe.a,{item:!0,xs:7},r.a.createElement("div",null,o.map(function(e){return r.a.createElement(se.a,{key:e.name,variant:"subtitle1",gutterBottom:!0},"".concat(e.name," - ").concat(e.quantity))})))),r.a.createElement("div",{className:l.buttonsArea},r.a.createElement(W.a,{name:"back",variant:"contained",onClick:t},"Back"),r.a.createElement(W.a,{name:"submit",variant:"contained",color:"secondary",onClick:a},"Submit")))},fe=function(){var e=pe(),t=Object(n.useState)([]),a=Object(m.a)(t,2),l=a[0],c=a[1],i=function(){var e=Object(o.a)(u.a.mark(function e(){var t,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/data/dishes.json");case 2:t=e.sent,a=t.data,n=(void 0===a?{}:a).dishes,c(n);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){i()},[]),r.a.createElement(f.MuiThemeProvider,{theme:be},r.a.createElement("div",{className:e.root},r.a.createElement(h.a,{className:e.formWrapper},r.a.createElement(w,{fieldData:l,showFlow:!0},r.a.createElement(I,{label:"Step 1"}),r.a.createElement(G,{label:"Step 2"}),r.a.createElement(le,{label:"Step 3"}),r.a.createElement(de,{label:"Review"})))))},be=Object(f.createMuiTheme)({palette:{primary:{main:"#2196f3"}},typography:{useNextVariants:!0}}),pe=Object(b.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,width:"100vw",height:"auto",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},formWrapper:{width:"50%",height:"auto",padding:30}});c.a.render(r.a.createElement(fe,null),document.getElementById("root"))}},[[173,2,1]]]);
//# sourceMappingURL=main.650971db.chunk.js.map